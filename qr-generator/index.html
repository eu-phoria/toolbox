<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QRコード生成ツール — eu-phoria toolbox</title>
  <link rel="icon" type="image/png" href="../favicon.png">
  <link rel="apple-touch-icon" href="../favicon.png">
  <script src="https://unpkg.com/qr-code-styling@1.8.4/lib/qr-code-styling.js"></script>
  <link rel="stylesheet" href="../shared/css/variables.css">
  <link rel="stylesheet" href="../shared/css/reset.css">
  <link rel="stylesheet" href="../shared/css/components.css">
  <link rel="stylesheet" href="../shared/css/layout.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="tb-header">
    <a href="../" class="tb-header__logo">eu-phoria toolbox</a>
    <nav class="tb-header__nav">
      <a href="../">ツール一覧</a>
    </nav>
  </header>

  <div class="tb-container">
    <div class="tb-layout-2col">
      <!-- 左パネル: 設定 -->
      <div class="tb-layout-2col__main">
        <h1 style="font-size: var(--tb-font-size-xl); color: var(--tb-accent); margin-bottom: var(--tb-space-lg);">QRコード生成ツール</h1>

        <!-- コンテンツ -->
        <section class="tb-card" style="margin-bottom: var(--tb-space-lg);">
          <h2 class="tb-section-title">コンテンツ</h2>
          <div class="tb-form-group">
            <label class="tb-label" for="data">URL またはテキスト</label>
            <input type="text" class="tb-input" id="data" value="https://eu-phoria.github.io/toolbox/" placeholder="https://example.com">
          </div>
        </section>

        <!-- 中央ロゴ -->
        <section class="tb-card" style="margin-bottom: var(--tb-space-lg);">
          <h2 class="tb-section-title">中央ロゴ</h2>

          <!-- プリセットロゴ -->
          <div class="tb-form-group">
            <label class="tb-label">プリセットロゴ</label>
            <div class="logo-grid" id="logoGrid"></div>
          </div>

          <p class="upload-or">または</p>

          <!-- カスタム画像アップロード -->
          <div class="tb-form-group">
            <label class="tb-label">カスタム画像
              <button class="tb-btn tb-btn--ghost" id="clearImage" style="display:none; font-size: var(--tb-font-size-xs);">クリア</button>
            </label>
            <div class="tb-upload" id="dropArea">
              <p id="uploadText">クリックまたはドラッグ&ドロップで画像を選択</p>
              <img id="imagePreview" style="display:none">
            </div>
            <input type="file" id="imageInput" accept="image/*" style="display:none">
          </div>

          <!-- 画像サイズ・マージン -->
          <div class="tb-grid tb-grid--2">
            <div class="tb-form-group">
              <label class="tb-label">画像サイズ</label>
              <div class="range-row">
                <input type="range" class="tb-range" id="imageSize" min="0.1" max="0.5" step="0.05" value="0.35">
                <span class="range-value" id="imageSizeValue">0.35</span>
              </div>
            </div>
            <div class="tb-form-group">
              <label class="tb-label">画像マージン</label>
              <div class="range-row">
                <input type="range" class="tb-range" id="imageMargin" min="0" max="20" step="1" value="8">
                <span class="range-value" id="imageMarginValue">8px</span>
              </div>
            </div>
          </div>
        </section>

        <!-- スタイル -->
        <section class="tb-card" style="margin-bottom: var(--tb-space-lg);">
          <h2 class="tb-section-title">スタイル</h2>
          <div class="tb-grid tb-grid--2">
            <div class="tb-form-group">
              <label class="tb-label" for="dotStyle">ドットスタイル</label>
              <select class="tb-select" id="dotStyle">
                <option value="square">四角</option>
                <option value="dots">丸</option>
                <option value="rounded" selected>角丸</option>
                <option value="extra-rounded">大角丸</option>
                <option value="classy">クラシック</option>
                <option value="classy-rounded">クラシック角丸</option>
              </select>
            </div>
            <div class="tb-form-group">
              <label class="tb-label" for="errorCorrection">誤り訂正レベル</label>
              <select class="tb-select" id="errorCorrection">
                <option value="L">L（7%）</option>
                <option value="M">M（15%）</option>
                <option value="Q" selected>Q（25%）</option>
                <option value="H">H（30%）</option>
              </select>
            </div>
          </div>
          <div class="tb-grid tb-grid--2">
            <div class="tb-form-group">
              <label class="tb-label" for="cornerSquareStyle">コーナー外側</label>
              <select class="tb-select" id="cornerSquareStyle">
                <option value="square">四角</option>
                <option value="dot">丸</option>
                <option value="extra-rounded" selected>角丸</option>
              </select>
            </div>
            <div class="tb-form-group">
              <label class="tb-label" for="cornerDotStyle">コーナー内側</label>
              <select class="tb-select" id="cornerDotStyle">
                <option value="square">四角</option>
                <option value="dot" selected>丸</option>
              </select>
            </div>
          </div>
        </section>

        <!-- カラー -->
        <section class="tb-card" style="margin-bottom: var(--tb-space-lg);">
          <h2 class="tb-section-title">カラー</h2>

          <!-- 単色/グラデーションタブ -->
          <div class="tb-tabs" id="colorTabs">
            <button class="tb-tab active" data-tab="solid">単色</button>
            <button class="tb-tab" data-tab="gradient">グラデーション</button>
          </div>

          <!-- 単色設定 -->
          <div id="solidSettings">
            <div class="tb-grid tb-grid--2">
              <div class="tb-form-group">
                <label class="tb-label">ドット色</label>
                <div class="color-row">
                  <input type="color" class="tb-color" id="dotColor" value="#000000">
                  <span class="tb-label" style="margin:0" id="dotColorHex">#000000</span>
                </div>
              </div>
              <div class="tb-form-group">
                <label class="tb-label">背景色</label>
                <div class="color-row">
                  <input type="color" class="tb-color" id="bgColor" value="#ffffff">
                  <span class="tb-label" style="margin:0" id="bgColorHex">#ffffff</span>
                </div>
              </div>
            </div>
          </div>

          <!-- グラデーション設定 -->
          <div id="gradientSettings" class="gradient-settings">
            <div class="tb-grid tb-grid--2">
              <div class="tb-form-group">
                <label class="tb-label">色1</label>
                <div class="color-row">
                  <input type="color" class="tb-color" id="gradColor1" value="#000000">
                  <span class="tb-label" style="margin:0" id="gradColor1Hex">#000000</span>
                </div>
              </div>
              <div class="tb-form-group">
                <label class="tb-label">色2</label>
                <div class="color-row">
                  <input type="color" class="tb-color" id="gradColor2" value="#7eb8da">
                  <span class="tb-label" style="margin:0" id="gradColor2Hex">#7eb8da</span>
                </div>
              </div>
            </div>
            <div class="tb-grid tb-grid--2">
              <div class="tb-form-group">
                <label class="tb-label" for="gradientType">グラデーションタイプ</label>
                <select class="tb-select" id="gradientType">
                  <option value="linear">リニア</option>
                  <option value="radial">ラジアル</option>
                </select>
              </div>
              <div class="tb-form-group">
                <label class="tb-label" for="gradientAngle">角度</label>
                <div class="range-row">
                  <input type="range" class="tb-range" id="gradientAngle" min="0" max="360" value="0">
                  <span class="range-value" id="gradientAngleValue">0°</span>
                </div>
              </div>
            </div>
            <div class="tb-form-group">
              <label class="tb-label">背景色</label>
              <div class="color-row">
                <input type="color" class="tb-color" id="gradBgColor" value="#ffffff">
                <span class="tb-label" style="margin:0" id="gradBgColorHex">#ffffff</span>
              </div>
            </div>
          </div>
        </section>

        <!-- プリセットテーマ -->
        <section class="tb-card" style="margin-bottom: var(--tb-space-lg);">
          <h2 class="tb-section-title">プリセットテーマ</h2>
          <div class="preset-grid" id="presetGrid"></div>
        </section>

        <!-- 出力設定 -->
        <section class="tb-card" style="margin-bottom: var(--tb-space-lg);">
          <h2 class="tb-section-title">出力設定</h2>
          <div class="tb-grid tb-grid--2">
            <div class="tb-form-group">
              <label class="tb-label" for="size">ダウンロードサイズ (px)</label>
              <input type="number" class="tb-input" id="size" value="1000" min="200" max="4000" step="100">
            </div>
            <div class="tb-form-group">
              <label class="tb-label" for="margin">余白 (px)</label>
              <input type="number" class="tb-input" id="margin" value="20" min="0" max="100">
            </div>
          </div>
        </section>
      </div>

      <!-- 右パネル: プレビュー -->
      <div class="tb-layout-2col__side">
        <div class="tb-card">
          <h2 class="tb-section-title">プレビュー</h2>
          <div class="preview-area">
            <div class="preview-canvas" id="preview">
              <span class="preview-placeholder">URLを入力してください</span>
            </div>
            <div class="download-buttons">
              <button class="tb-btn tb-btn--secondary" id="downloadPng">PNG</button>
              <button class="tb-btn tb-btn--secondary" id="downloadSvg">SVG</button>
              <button class="tb-btn tb-btn--secondary" id="downloadJpeg">JPEG</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="presets.js"></script>
  <script src="app.js"></script>
</body>
</html>
